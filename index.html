<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø³Ø§Ø®Øª ØªÛŒÙ… ÙÙˆØªØ¨Ø§Ù„</title>
<link href="https://cdn.fontcdn.ir/Font/Persian/Shabnam/Shabnam.css" rel="stylesheet">
<style>
html, body {
  font-family: 'Shabnam', sans-serif;
  background-color: #063f33;
  color: #f2f2f2;
  margin: 0;
  padding: 0;
  overflow: hidden;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ØµÙØ­Ù‡ Ø³Ø§Ø®Øª ØªÛŒÙ… Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ */
.create-team {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  width: 90%;
  max-width: 360px;
  padding: 30px 25px;
  background: rgba(25, 216, 124, 0.1);
  border-radius: 20px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(25, 216, 124, 0.25);
  transition: transform 0.3s ease;
}
.create-team:hover {
  transform: scale(1.02);
}

.logo-container {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.05);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #19d87c;
  font-size: 14px;
  cursor: pointer;
  overflow: hidden;
  box-shadow: 0 4px 18px rgba(25, 216, 124, 0.4);
  transition: all 0.3s ease;
}
.logo-container:hover {
  transform: scale(1.08);
  background: rgba(25, 216, 124, 0.15);
  box-shadow: 0 6px 22px rgba(25, 216, 124, 0.6);
}
.logo-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  transition: transform 0.3s ease;
}

input[type="file"] { display: none; }

input[type="text"] {
  width: 100%;
  padding: 14px 16px;
  border: none;
  border-radius: 14px;
  outline: none;
  text-align: center;
  font-size: 16px;
  color: #f2f2f2;
  background: rgba(0, 0, 0, 0.25);
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.5);
  transition: background 0.3s ease, box-shadow 0.3s ease;
}
input[type="text"]:focus {
  background: rgba(25, 216, 124, 0.1);
  box-shadow: 0 0 12px rgba(25, 216, 124, 0.6);
}

.btn {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  font-weight: 600;
  color: #063f33;
  background: linear-gradient(135deg, #19d87c, #12a05e);
  border: none;
  border-radius: 14px;
  cursor: pointer;
  box-shadow: 0 5px 18px rgba(25, 216, 124, 0.5);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.3s ease;
}
.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 7px 22px rgba(25, 216, 124, 0.6);
  background: linear-gradient(135deg, #16c06e, #0fa55b);
}

/* Ù¾Ø§Ù¾â€ŒØ¢Ù¾ */
.popup {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: none;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(3px);
}
.popup-content {
  background-color: #074c3c;
  padding: 25px;
  border-radius: 12px;
  text-align: center;
  width: 80%;
  max-width: 280px;
}
.popup-content p { margin-bottom: 15px; font-size: 15px; }
.close-btn {
  background: #19d87c;
  color: #063f33;
  border: none;
  padding: 10px 40px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
}

/* ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ */
.main-page {
  display: none;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background-color: #063f33;
  position: relative;
}

.team-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 15px 20px;
  border-bottom: 1px solid rgba(255,255,255,0.15);
}
.team-info {
  display: flex;
  align-items: center;
  gap: 12px;
}
.team-header img {
  width: 55px;
  height: 55px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #19d87c;
  cursor: pointer;
}
.team-header h2 {
  font-size: 18px;
  margin: 0;
  color: #f2f2f2;
  font-weight: 500;
}
.team-balance {
  font-size: 15px;
  color: #cfcfcf;
}

/* ğŸ¯ Ú©Ø§Ø±Øª Ø¨Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ÛŒ */
.next-match-card {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  padding: 25px 20px 30px;
  width: 75%;
  max-width: 380px;
  min-height: 100px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  backdrop-filter: blur(10px);
  box-shadow: 0 0 25px rgba(0,0,0,0.4);
  overflow: visible;
  transition: 0.3s ease;
}
.next-match-card:hover {
  transform: translate(-50%, -50%) scale(1.03);
  box-shadow: 0 0 35px rgba(25,216,124,0.3);
}
.next-match-card .mini-card {
  position: absolute;
  top: -12px;
  right: 20px;
  background: linear-gradient(135deg, #19d87c, #12a05e);
  color: #063f33;
  padding: 6px 18px;
  font-size: 13px;
  font-weight: bold;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(25,216,124,0.4);
}
#match-content {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #f2f2f2;
  font-size: 15px;
}
.next-match-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 90%;
  font-size: 14px;
  margin-top: 10px;
  background: rgba(0,0,0,0.3);
  padding: 10px 15px;
  border-radius: 10px;
  box-shadow: inset 0 0 8px rgba(255,255,255,0.05);
}

/* ğŸ¨ Ú©Ø§Ø±Øª Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒâ€ŒØªØ± */
.bottom-card {
  position: absolute;
  bottom: 50px;
  left: 50%;
  transform: translateX(-50%);
  width: calc(100% - 100px);
  background: linear-gradient(135deg, rgba(25,216,124,0.3), rgba(0,0,0,0.6));
  border-radius: 16px;
  padding: 16px 22px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 14px;
  backdrop-filter: blur(6px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.5);
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}
.bottom-card:hover {
  transform: translateX(-50%) translateY(-3px);
  box-shadow: 0 10px 25px rgba(25,216,124,0.5);
}
.bottom-card span {
  color: #f2f2f2;
  font-weight: 500;
  line-height: 1.3;
}
.bottom-card button {
  background: #19d87c;
  border: none;
  color: #063f33;
  padding: 8px 16px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 13px;
  font-weight: bold;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  box-shadow: 0 4px 12px rgba(25,216,124,0.4);
}
.bottom-card button:hover {
  background: #12c066;
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(25,216,124,0.5);
}
</style>
</head>
<body>

<!-- ØµÙØ­Ù‡ Ø³Ø§Ø®Øª ØªÛŒÙ… -->
<div class="create-team">
  <label for="team-logo" class="logo-container" id="logoPreview">Ø§ÙØ²ÙˆØ¯Ù† Ù„ÙˆÚ¯Ùˆ</label>
  <input type="file" id="team-logo" accept="image/*">
  <input type="text" id="team-name" placeholder="Ù†Ø§Ù… ØªÛŒÙ… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
  <button class="btn" id="create-btn">ØªØ£ÛŒÛŒØ¯ Ø³Ø§Ø®Øª ØªÛŒÙ…</button>
</div>

<!-- Ù¾Ø§Ù¾â€ŒØ¢Ù¾ -->
<div class="popup" id="popup">
  <div class="popup-content">
    <p>Ù†Ø§Ù… ØªÛŒÙ… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ù†Ù…Ø§ÛŒÛŒØ¯.</p>
    <button class="close-btn" id="close-popup">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
  </div>
</div>

<!-- ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ -->
<div class="main-page" id="main-page">
  <div class="team-header">
    <div class="team-info">
      <img id="header-logo" src="" alt="Ù„ÙˆÚ¯Ùˆ ØªÛŒÙ…">
      <h2 id="header-name"></h2>
    </div>
    <div class="team-balance" id="team-balance">Ù…ÙˆØ¬ÙˆØ¯ÛŒ ØªÛŒÙ…: ÛµÛ°,Û°Û°Û° Ø³Ú©Ù‡</div>
  </div>

  <div class="next-match-card">
    <div class="mini-card">Ø¨Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ÛŒ</div>
    <div id="match-content">
      Ø¨Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ÛŒâ€ŒØ§ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.
    </div>
  </div>

  <div class="bottom-card">
    <span>Ø¨Ø§ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø§Ø² Ø§Ø®Ø¨Ø§Ø± ØŒ Ø¬Ø´Ù†ÙˆØ§Ø±Ù‡ Ù‡Ø§ Ùˆ Ø¯ÛŒÚ¯Ø± Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø§Ø®Ø¨Ø± Ø´ÙˆÛŒØ¯ .</span>
    <button>Ø¹Ø¶ÙˆÛŒØª</button>
  </div>
</div>

<script>
const logoInput = document.getElementById("team-logo");
const logoPreview = document.getElementById("logoPreview");
const headerLogo = document.getElementById("header-logo");
const teamNameInput = document.getElementById("team-name");
const createBtn = document.getElementById("create-btn");
const popup = document.getElementById("popup");
const closePopup = document.getElementById("close-popup");
const mainPage = document.getElementById("main-page");
const createTeamPage = document.querySelector(".create-team");
const headerName = document.getElementById("header-name");
const teamBalance = document.getElementById("team-balance");
const matchContent = document.getElementById("match-content");
const bottomCard = document.querySelector(".bottom-card");
const bottomBtn = bottomCard.querySelector("button");

let teamData = JSON.parse(localStorage.getItem("teamData")) || null;

function createDefaultLogo(){
  const svg = `<svg width="55" height="55" xmlns="http://www.w3.org/2000/svg">
    <rect width="55" height="55" rx="50%" fill="#0a5c46"/>
    <text x="50%" y="55%" font-size="14" fill="white" font-family="Shabnam" text-anchor="middle" alignment-baseline="middle">Logo</text>
  </svg>`;
  return "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(svg)));
}

if(teamData) showMainPage();

logoPreview.addEventListener("click", () => logoInput.click());
headerLogo.addEventListener("click", () => logoInput.click());

logoInput.addEventListener("change", function() {
  const file = this.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = function(e){
      const logoSrc = e.target.result;
      logoPreview.innerHTML = `<img src="${logoSrc}" alt="Ù„ÙˆÚ¯Ùˆ ØªÛŒÙ…">`;
      headerLogo.src = logoSrc;
      if(teamData){
        teamData.logo = logoSrc;
        saveTeamData();
      }
    };
    reader.readAsDataURL(file);
  }
});

createBtn.addEventListener("click", () => {
  const teamName = teamNameInput.value.trim();
  if(teamName === ""){
    popup.style.display = "flex";
    return;
  }
  teamData = {
    name: teamName,
    logo: createDefaultLogo(),
    balance: 50000,
    match: null
  };
  saveTeamData();
  showMainPage();
});

closePopup.addEventListener("click", () => { popup.style.display = "none"; });

function saveTeamData(){ localStorage.setItem("teamData", JSON.stringify(teamData)); }

function showMainPage(){
  createTeamPage.style.display = "none";
  mainPage.style.display = "flex";
  headerName.textContent = teamData.name;
  headerLogo.src = teamData.logo || createDefaultLogo();
  teamBalance.textContent = "Ù…ÙˆØ¬ÙˆØ¯ÛŒ ØªÛŒÙ…: " + teamData.balance.toLocaleString() + " Ø³Ú©Ù‡";

  if(teamData.match){
    const m = teamData.match;
    matchContent.innerHTML = `
      <div class="next-match-content">
        <span>${m.guest}</span>
        <span>${m.datetime}</span>
        <span>${m.host}</span>
      </div>
    `;
  } else {
    matchContent.textContent = "Ø¨Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ÛŒâ€ŒØ§ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.";
  }
}

bottomBtn.addEventListener("click", () => {
  bottomCard.style.transform = "translate(-50%, -10px)";
  setTimeout(() => { bottomCard.style.transform = "translateX(-50%)"; }, 200);
  window.open('https://rubika.ir/Football33_Game', '_blank');
});
</script>

</body>
</html>
